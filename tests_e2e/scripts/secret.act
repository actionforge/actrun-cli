entry: start
nodes:
  - id: start
    type: core/start@v1
    position:
      x: 160
      y: 190
  - id: run-v1-butterfly-gray-shark
    type: core/run@v1
    position:
      x: 880
      y: 100
    inputs:
      shell: python
      script: |-
        import os, sys
        sys.stdout.write(os.environ["FOO"] + "\n")
  - id: secret-v1-orange-blueberry-red
    type: core/secret@v1
    position:
      x: -70
      y: 560
    inputs:
      name: API_KEY_123
      prefix: FOO=
  - id: env-array-v1-lemon-grape-lion
    type: core/env-array@v1
    position:
      x: 370
      y: 570
    inputs:
      env[0]: ''
connections:
  - src:
      node: env-array-v1-lemon-grape-lion
      port: env
    dst:
      node: run-v1-butterfly-gray-shark
      port: env
  - src:
      node: secret-v1-orange-blueberry-red
      port: secret
    dst:
      node: env-array-v1-lemon-grape-lion
      port: env[0]
executions:
  - src:
      node: start
      port: exec
    dst:
      node: run-v1-butterfly-gray-shark
      port: exec

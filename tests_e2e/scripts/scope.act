editor:
  version:
    created: v1.34.0
entry: start
type: generic
nodes:
  - id: start
    type: core/start@v1
    position:
      x: -540
      y: 50
  - id: group-v1-brown-turkey-donkey
    type: core/group@v1
    position:
      x: -90
      y: -70
    graph:
      entry: group-inputs-v1-starfish-navy-orange
      type: group
      nodes:
        - id: group-inputs-v1-starfish-navy-orange
          type: core/group-inputs@v1
          position:
            x: -240
            y: 80
        - id: group-outputs-v1-wolf-cow-seahorse
          type: core/group-outputs@v1
          position:
            x: 400
            y: 100
        - id: random-number-v1-pear-magenta-wolf
          type: core/random-number@v1
          position:
            x: -70
            y: 180
          inputs:
            min: 0
            max: 1
            seed: -1
      connections:
        - src:
            node: random-number-v1-pear-magenta-wolf
            port: number
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: shark-hippopotamus-jackfruit
          isLoop: false
      executions:
        - src:
            node: group-inputs-v1-starfish-navy-orange
            port: exec-nectarine-coconut-cherry
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: exec-white-chicken-octopus
          isLoop: false
      inputs:
        exec-nectarine-coconut-cherry:
          name: ''
          type: ''
          index: 0
          exec: true
          desc: ''
      outputs:
        exec-white-chicken-octopus:
          name: ''
          type: ''
          index: 0
          exec: true
          desc: ''
        shark-hippopotamus-jackfruit:
          name: Random Number
          type: number
          desc: ''
          index: 1
  - id: group-v1-white-seahorse-peacock
    type: core/group@v1
    position:
      x: 110
      y: -290
    graph:
      entry: group-inputs-v1-starfish-navy-orange
      type: group
      nodes:
        - id: group-inputs-v1-starfish-navy-orange
          type: core/group-inputs@v1
          position:
            x: -240
            y: 80
        - id: group-outputs-v1-wolf-cow-seahorse
          type: core/group-outputs@v1
          position:
            x: 400
            y: 100
        - id: random-number-v1-pear-magenta-wolf
          type: core/random-number@v1
          position:
            x: -70
            y: 180
          inputs:
            min: 0
            max: 1
            seed: -1
      connections:
        - src:
            node: random-number-v1-pear-magenta-wolf
            port: number
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: shark-hippopotamus-jackfruit
          isLoop: false
      executions:
        - src:
            node: group-inputs-v1-starfish-navy-orange
            port: exec-nectarine-coconut-cherry
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: exec-white-chicken-octopus
          isLoop: false
      inputs:
        exec-nectarine-coconut-cherry:
          name: ''
          type: ''
          index: 0
          exec: true
          desc: ''
      outputs:
        exec-white-chicken-octopus:
          name: ''
          type: ''
          index: 0
          exec: true
          desc: ''
        shark-hippopotamus-jackfruit:
          name: Random Number
          type: number
          desc: ''
          index: 1
  - id: comment-v1-papaya-kiwi-yellow
    type: core/comment@v1
    position:
      x: 40
      y: -420
    dimensions:
      width: 490
      height: 93
    inputs:
      markdown: |-
        All groups contain 'random number' nodes. They all have
        the same node ID. Ensure they all return individual values
        and they don't intefere with each others caches.
  - id: group-v1-blueberry-indigo-squirrel
    type: core/group@v1
    position:
      x: 40
      y: 130
    graph:
      entry: group-inputs-v1-starfish-navy-orange
      type: group
      nodes:
        - id: group-inputs-v1-starfish-navy-orange
          type: core/group-inputs@v1
          position:
            x: -240
            y: 80
        - id: group-outputs-v1-wolf-cow-seahorse
          type: core/group-outputs@v1
          position:
            x: 400
            y: 100
        - id: random-number-v1-pear-magenta-wolf
          type: core/random-number@v1
          position:
            x: -70
            y: 180
          inputs:
            min: 0
            max: 1
            seed: -1
      connections:
        - src:
            node: random-number-v1-pear-magenta-wolf
            port: number
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: shark-hippopotamus-jackfruit
          isLoop: false
      executions: []
      outputs:
        shark-hippopotamus-jackfruit:
          name: Random Number
          type: number
          desc: ''
          index: 0
  - id: group-v1-violet-teal-beige
    type: core/group@v1
    position:
      x: 30
      y: 270
    graph:
      entry: group-inputs-v1-starfish-navy-orange
      type: group
      nodes:
        - id: group-inputs-v1-starfish-navy-orange
          type: core/group-inputs@v1
          position:
            x: -240
            y: 80
        - id: group-outputs-v1-wolf-cow-seahorse
          type: core/group-outputs@v1
          position:
            x: 400
            y: 100
        - id: random-number-v1-pear-magenta-wolf
          type: core/random-number@v1
          position:
            x: -70
            y: 180
          inputs:
            min: 0
            max: 1
            seed: -1
      connections:
        - src:
            node: random-number-v1-pear-magenta-wolf
            port: number
          dst:
            node: group-outputs-v1-wolf-cow-seahorse
            port: shark-hippopotamus-jackfruit
          isLoop: false
      executions: []
      outputs:
        shark-hippopotamus-jackfruit:
          name: Random Number
          type: number
          desc: ''
          index: 0
  - id: run-v1-lychee-grape-tangerine
    type: core/run@v1
    position:
      x: 1330
      y: -550
    inputs:
      script: |
        import os
        import sys

        def all_strings_different(*strings):
            return len(strings) == len(set(strings))

        S1 = os.environ.get("S1")
        S2 = os.environ.get("S2")
        S3 = os.environ.get("S3")
        S4 = os.environ.get("S4")

        # ensure all are actually random floats
        float(S1)
        float(S2)
        float(S3)
        float(S4)

        if all_strings_different(S1, S2, S3, S4):
            print("good, all random numbers are different")
        else:
            print("error, some strings are the same!", S1, S2, S3, S4)
            sys.exit(1)
      shell: python
  - id: env-array-v1-pink-date-pomegranate
    type: core/env-array@v1
    position:
      x: 900
      y: -230
    inputs:
      env[0]: ''
      env[1]: ''
      env[2]: ''
      env[3]: ''
  - id: string-fmt-v1-snake-fox-seahorse
    type: core/string-fmt@v1
    position:
      x: 440
      y: -330
    inputs:
      substitutes[0]: null
      fmt: S1=%v
  - id: string-fmt-v1-lion-seahorse-white
    type: core/string-fmt@v1
    position:
      x: 450
      y: -120
    inputs:
      substitutes[0]: null
      fmt: S2=%v
  - id: string-fmt-v1-kangaroo-peacock-bear
    type: core/string-fmt@v1
    position:
      x: 460
      y: 90
    inputs:
      substitutes[0]: null
      fmt: S3=%v
  - id: string-fmt-v1-sheep-donkey-penguin
    type: core/string-fmt@v1
    position:
      x: 460
      y: 300
    inputs:
      substitutes[0]: null
      fmt: S4=%v
connections:
  - src:
      node: string-fmt-v1-snake-fox-seahorse
      port: result
    dst:
      node: env-array-v1-pink-date-pomegranate
      port: env[0]
    isLoop: false
  - src:
      node: env-array-v1-pink-date-pomegranate
      port: env
    dst:
      node: run-v1-lychee-grape-tangerine
      port: env
    isLoop: false
  - src:
      node: string-fmt-v1-lion-seahorse-white
      port: result
    dst:
      node: env-array-v1-pink-date-pomegranate
      port: env[1]
    isLoop: false
  - src:
      node: string-fmt-v1-kangaroo-peacock-bear
      port: result
    dst:
      node: env-array-v1-pink-date-pomegranate
      port: env[2]
    isLoop: false
  - src:
      node: string-fmt-v1-sheep-donkey-penguin
      port: result
    dst:
      node: env-array-v1-pink-date-pomegranate
      port: env[3]
    isLoop: false
  - src:
      node: group-v1-brown-turkey-donkey
      port: shark-hippopotamus-jackfruit
    dst:
      node: string-fmt-v1-lion-seahorse-white
      port: substitutes[0]
    isLoop: false
  - src:
      node: group-v1-blueberry-indigo-squirrel
      port: shark-hippopotamus-jackfruit
    dst:
      node: string-fmt-v1-kangaroo-peacock-bear
      port: substitutes[0]
    isLoop: false
  - src:
      node: group-v1-violet-teal-beige
      port: shark-hippopotamus-jackfruit
    dst:
      node: string-fmt-v1-sheep-donkey-penguin
      port: substitutes[0]
    isLoop: false
  - src:
      node: group-v1-white-seahorse-peacock
      port: shark-hippopotamus-jackfruit
    dst:
      node: string-fmt-v1-snake-fox-seahorse
      port: substitutes[0]
    isLoop: false
executions:
  - src:
      node: start
      port: exec
    dst:
      node: group-v1-brown-turkey-donkey
      port: exec-nectarine-coconut-cherry
    isLoop: false
  - src:
      node: group-v1-brown-turkey-donkey
      port: exec-white-chicken-octopus
    dst:
      node: group-v1-white-seahorse-peacock
      port: exec-nectarine-coconut-cherry
    isLoop: false
  - src:
      node: group-v1-white-seahorse-peacock
      port: exec-white-chicken-octopus
    dst:
      node: run-v1-lychee-grape-tangerine
      port: exec
    isLoop: false

yaml-version: 3.0
id: core/credentials-ssh
name: SSH Credentials
version: 1
category: credentials
icon: octPasskeyFill
style:
  header:
    background: "#5d6268"
    color: "#ffffff"
  body:
    background: "#3c3f43"
short_desc: Creates a credential object containing SSH private key data.
addendum: |
  This is a data node that securely holds SSH private key information. It outputs a credential object that can be consumed by other nodes (like `git-auth-ssh`) to construct a final authentication method.

  Provide the private key by entering either the raw key content or a file path into the `Private Key or Path` input.

  !!! warning "Security"
      Always use the `secret` input type for key content and passwords to ensure they are handled securely by Actionforge.
compact: true
outputs:
  credential:
    type: credentials
    desc: A credential object containing the private key data.
    index: 0
inputs:
  username:
    type: secret
    name: Username
    hint: "E.g: `git`"
    desc: The username to use for SSH authentication, e.g. `git` or `ubuntu`.
    optional: true
    index: 0
  private_key:
    type: string
    name: Private Key Path
    desc: The file path to the key. It supports RSA (PKCS#1), PKCS#8, DSA (OpenSSL), and ECDSA private keys
    hint: "E.g: ~/.ssh/id_rsa"
    required: true
    index: 1
  private_key_password:
    type: secret
    name: ðŸ”‘ Password
    desc: The password for the private key, if it is encrypted.
    index: 2
    hide_socket: true
    optional: true

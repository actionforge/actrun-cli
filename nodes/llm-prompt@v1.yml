yaml-version: 3.0
id: core/llm-prompt
name: LLM Prompt
version: 1
category: ai
icon: tablerAi
style:
  header:
    background: "#4a3b6c"
    color: "#ffffff"
  body:
    background: "#2d2442"
short_desc: Generates text using a specified Large Language Model (LLM).
addendum: |
  This node sends a prompt to an LLM service and outputs the generated response.

  ### Model Providers

  The provider is automatically selected based on the model name prefix:

  - **OpenAI**: `gpt-` (e.g., `gpt-4o`)
  - **xAI (Grok)**: `grok-` (e.g., `grok-4`)
  - **Anthropic**: `claude-` (e.g., `claude-3-5-sonnet-20240620`)
  - **Google AI**: `gemini-` (e.g., `gemini-1.5-pro`)
  - **Mistral AI**: `mistral-` or `mixtral-`
  - **Ollama**: Any other name (e.g., `llama3`) is assumed to be a local model served by Ollama.

  ### Authentication
  For LLM providers, you must provide an API key via the API key input. For local Ollama models, no key is needed.
outputs:
  exec-success:
    name: Success
    exec: true
    desc: Executes if the text generation is successful.
    index: 0
  exec-err:
    name: Error
    exec: true
    desc: Executes if there is an error during text generation.
    index: 1
  response:
    type: string
    name: Response
    desc: The text generated by the LLM.
    index: 2
inputs:
  exec:
    exec: true
    index: 0
  model:
    type: string
    name: Model Name
    hint: e.g., 'gpt-5', 'grok-4', 'gemini-2.5-pro', ...
    desc: The name of the model to use. Check the documentation for supported models.
    index: 1
    required: true
  user_prompt:
    type: string
    name: User Prompt
    hint: "E.g: Tell me something about Montr√©al"
    desc: The text prompt to send to the LLM.
    index: 2
    required: true
    multiline: true
  system_prompt:
    type: string
    name: System Prompt
    hint: "E.g: You are an expert in ..."
    desc: The text prompt to send to the LLM.
    index: 3
    multiline: true
  Attachments:
    name: "Attachments"
    type: stream
    array: true
    index: 4
  api_key:
    type: secret
    name: API Key
    desc: The API key for the selected cloud provider.
    hint: "e.g. MY_OPENAI_KEY"
    index: 5
    #not required for local models
    #required: true
